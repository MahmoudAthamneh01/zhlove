(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{1981:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7216:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3717:function(e,t,a){Promise.resolve().then(a.bind(a,9597))},9597:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return LoginPage}});var s=a(7437),r=a(2265),n=a(4033),l=a(2749);let i={baseUrl:(()=>{let e="https://yourdomain.com/api";if(!e)throw Error("NEXT_PUBLIC_API_URL is required in production");return e})(),endpoints:{auth:{register:"/auth/register",login:"/auth/login",logout:"/auth/logout",session:"/auth/session"},users:{list:"/users",profile:"/users/profile"},messages:"/messages",notifications:"/notifications",forum:{posts:"/forum/posts",like:"/forum/posts/like",stats:"/forum/stats"},tournaments:{list:"/tournaments",register:"/tournaments/register"},clans:"/clans",stats:"/stats"}};async function api_config_apiRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(i.baseUrl).concat(e),s={headers:{"Content-Type":"application/json",...t.headers},credentials:"include",...t};try{let e=await fetch(a,s);if(!e.ok)throw Error("API Error: ".concat(e.status," ").concat(e.statusText));return await e.json()}catch(e){throw console.error("API Request failed:",e),e}}var o=a(1396),c=a.n(o),d=a(609),u=a(3089),h=a(6582),f=a(7216),m=a(9670),p=a(1679),x=a(8627),g=a(1423),y=a(7972),b=a(1981),v=a(1295),w=a(5589);function LoginPage(e){let{params:{locale:t}}=e,[a,o]=(0,r.useState)(""),[N,j]=(0,r.useState)(""),[z,k]=(0,r.useState)(!1),C=(0,n.useRouter)(),Z=(0,p.useTranslations)(),{login:S,loading:I,error:R,isAuthenticated:_,clearError:E}=function(){let{data:e,status:t}=(0,l.useSession)(),[a,s]=(0,r.useState)(!1),[n,o]=(0,r.useState)(null),c=(0,r.useCallback)(async e=>{s(!0),o(null);try{let t=await api_config_apiRequest(i.endpoints.auth.register,{method:"POST",body:JSON.stringify(e)});if(t.success)return await (0,l.signIn)("credentials",{email:e.email,password:e.password,redirect:!1}),!0;return o(t.message||"Registration failed"),!1}catch(e){return o(e.message||"Registration failed"),!1}finally{s(!1)}},[]),d=(0,r.useCallback)(async e=>{s(!0),o(null);try{let t=await (0,l.signIn)("credentials",{email:e.email,password:e.password,redirect:!1});if(null==t?void 0:t.error)return o("Invalid credentials"),!1;return!0}catch(e){return o(e.message||"Login failed"),!1}finally{s(!1)}},[]),u=(0,r.useCallback)(async()=>{s(!0);try{await api_config_apiRequest(i.endpoints.auth.logout,{method:"POST"})}catch(e){console.error("Backend logout error:",e)}await (0,l.signOut)({redirect:!1}),s(!1)},[]);return{session:e,loading:a||"loading"===t,error:n,isAuthenticated:!!(null==e?void 0:e.user),user:null==e?void 0:e.user,register:c,login:d,logout:u,clearError:()=>o(null)}}();(0,r.useEffect)(()=>{_&&C.push("/".concat(t))},[_,C,t]);let handleSubmit=async e=>{e.preventDefault(),E();let s=await S({email:a,password:N});s&&(C.push("/".concat(t)),C.refresh())};return(0,s.jsx)(x.MainLayout,{children:(0,s.jsx)(g.v,{variant:"subtle",className:"min-h-screen flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"zh-container max-w-md",children:(0,s.jsxs)(d.Zb,{className:"zh-card border-zh-accent/20 shadow-xl",children:[(0,s.jsxs)(d.Ol,{className:"text-center pb-8",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 w-16 h-16 bg-zh-accent rounded-full flex items-center justify-center",children:(0,s.jsx)(y.Z,{className:"h-8 w-8 text-white"})}),(0,s.jsx)(d.ll,{className:"text-2xl font-bold text-white mb-2",children:Z("auth.login.title",{default:"Welcome Back"})}),(0,s.jsx)("p",{className:"text-zh-border",children:Z("auth.login.subtitle",{default:"Sign in to your ZH-Love account"})})]}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[R&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:R})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-zh-border"}),(0,s.jsx)(h.I,{type:"email",placeholder:Z("auth.email",{default:"Email"}),value:a,onChange:e=>o(e.target.value),className:"pl-12",required:!0,disabled:I})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-zh-border"}),(0,s.jsx)(h.I,{type:z?"text":"password",placeholder:Z("auth.password",{default:"Password"}),value:N,onChange:e=>j(e.target.value),className:"pl-12 pr-12",required:!0,disabled:I}),(0,s.jsx)("button",{type:"button",onClick:()=>k(!z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-zh-border hover:text-zh-accent transition-colors",disabled:I,children:z?(0,s.jsx)(f.Z,{className:"h-5 w-5"}):(0,s.jsx)(m.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsx)(u.z,{type:"submit",className:"w-full",variant:"gaming",disabled:I,children:I?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),Z("auth.login.signingIn",{default:"Signing In..."})]}):Z("auth.login.signIn",{default:"Sign In"})}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)(c(),{href:"/forgot-password",className:"text-zh-accent hover:text-zh-gold transition-colors text-sm",children:Z("auth.forgotPassword",{default:"Forgot your password?"})}),(0,s.jsxs)("div",{className:"text-zh-border text-sm",children:[Z("auth.noAccount",{default:"Don't have an account?"})," ",(0,s.jsx)(c(),{href:"/".concat(t,"/signup"),className:"text-zh-accent hover:text-zh-gold transition-colors font-medium",children:Z("auth.signUp",{default:"Sign up"})})]})]})]})})]})})})})}},1423:function(e,t,a){"use strict";a.d(t,{v:function(){return AnimatedBackground}});var s=a(7437);function AnimatedBackground(e){let{variant:t="hero",className:a="",children:r}=e;return(0,s.jsxs)("div",{className:"relative overflow-hidden ".concat((()=>{switch(t){case"hero":default:return"bg-gradient-to-br from-zh-primary via-zh-secondary to-zh-container";case"battle":return"bg-gradient-to-br from-red-900 via-zh-secondary to-zh-container";case"subtle":return"bg-gradient-to-br from-zh-secondary to-zh-container"}})()," ").concat(a),children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,s.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-zh-accent rounded-full animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-1/2 right-1/4 w-1 h-1 bg-zh-gold rounded-full animate-pulse delay-1000"}),(0,s.jsx)("div",{className:"absolute bottom-1/4 left-1/3 w-1.5 h-1.5 bg-zh-accent rounded-full animate-pulse delay-2000"}),(0,s.jsx)("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-zh-gold rounded-full animate-pulse delay-3000"})]}),(0,s.jsx)("div",{className:"relative z-10",children:r})]})}a(2265)},609:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var s=a(7437),r=a(2265),n=a(345);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("zh-card",a),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},6582:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(7437),r=a(2265),n=a(345);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-zh-border bg-zh-secondary px-3 py-2 text-sm text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-zh-accent focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"}},function(e){e.O(0,[250,749,326,335,627,971,472,744],function(){return e(e.s=3717)}),_N_E=e.O()}]);