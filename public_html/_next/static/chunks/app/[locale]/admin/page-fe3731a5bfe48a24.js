(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{2505:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},9617:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},503:function(e,s,a){Promise.resolve().then(a.bind(a,7564))},7564:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return AdminPage}});var t=a(7437),r=a(2265),l=a(2749),n=a(4033),c=a(1396),i=a.n(c),d=a(8627),h=a(609),x=a(3089),m=a(5750),o=a(2882),f=a(8957),j=a(9036),u=a(998),N=a(2505),p=a(7480),w=a(9617);function AdminPage(e){let{params:{locale:s}}=e,{data:a,status:c}=(0,l.useSession)(),b=(0,n.useRouter)(),[y,v]=(0,r.useState)({users:0,forums:0,tournaments:0,clans:0,onlineUsers:0,badges:0}),[g,z]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if("loading"!==c){if(!a){b.push("/login");return}if("admin"!==a.user.role){b.push("/");return}fetchStats()}},[a,c,b]);let fetchStats=async()=>{try{let e=await fetch("/api/stats"),s=await e.json();v(s)}catch(e){console.error("Failed to fetch stats:",e)}finally{z(!1)}};return"loading"===c||g?(0,t.jsx)(d.MainLayout,{children:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-zh-accent/20 border-t-zh-accent rounded-full animate-spin"})})}):a&&"admin"===a.user.role?(0,t.jsx)(d.MainLayout,{children:(0,t.jsxs)("div",{className:"zh-container py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),(0,t.jsxs)("p",{className:"text-zh-border",children:["Welcome back, ",a.user.name||a.user.email]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.users||0).toLocaleString()})]}),(0,t.jsx)(m.Z,{className:"h-8 w-8 text-zh-accent"})]})})}),(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Forum Posts"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.forums||0).toLocaleString()})]}),(0,t.jsx)(o.Z,{className:"h-8 w-8 text-zh-accent"})]})})}),(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Active Tournaments"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.tournaments||0).toLocaleString()})]}),(0,t.jsx)(f.Z,{className:"h-8 w-8 text-zh-accent"})]})})}),(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Total Clans"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.clans||0).toLocaleString()})]}),(0,t.jsx)(j.Z,{className:"h-8 w-8 text-zh-accent"})]})})}),(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Online Now"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.onlineUsers||0).toLocaleString()})]}),(0,t.jsx)(u.Z,{className:"h-8 w-8 text-zh-accent"})]})})}),(0,t.jsx)(h.Zb,{className:"zh-card",children:(0,t.jsx)(h.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-zh-border text-sm",children:"Total Badges"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:(y.badges||0).toLocaleString()})]}),(0,t.jsx)(N.Z,{className:"h-8 w-8 text-zh-accent"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(h.Zb,{className:"zh-card",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsxs)(h.ll,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5"}),"Website CMS"]})}),(0,t.jsxs)(h.aY,{className:"space-y-3",children:[(0,t.jsx)(i(),{href:"/admin/cms/home",children:(0,t.jsxs)(x.z,{variant:"gaming",className:"w-full justify-start",children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Customize Home Page"]})}),(0,t.jsx)(i(),{href:"/admin/content",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Page Content Manager"})}),(0,t.jsx)(i(),{href:"/admin/cms/game-info",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Game Information"})})]})]}),(0,t.jsxs)(h.Zb,{className:"zh-card",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsx)(h.ll,{className:"text-white",children:"User Management"})}),(0,t.jsxs)(h.aY,{className:"space-y-3",children:[(0,t.jsx)(i(),{href:"/admin/users",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"View All Users"})}),(0,t.jsx)(i(),{href:"/admin/users?filter=role",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Manage Roles"})}),(0,t.jsx)(i(),{href:"/admin/users?filter=banned",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Ban/Unban Users"})})]})]}),(0,t.jsxs)(h.Zb,{className:"zh-card",children:[(0,t.jsx)(h.Ol,{children:(0,t.jsx)(h.ll,{className:"text-white",children:"Content Management"})}),(0,t.jsxs)(h.aY,{className:"space-y-3",children:[(0,t.jsx)(i(),{href:"/admin/content",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Moderate Posts"})}),(0,t.jsx)(i(),{href:"/admin/tournaments",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Manage Tournaments"})}),(0,t.jsx)(i(),{href:"/admin/content?tab=reports",children:(0,t.jsx)(x.z,{variant:"secondary",className:"w-full justify-start",children:"Review Reports"})})]})]})]})]})}):null}},609:function(e,s,a){"use strict";a.d(s,{Ol:function(){return c},Zb:function(){return n},aY:function(){return h},ll:function(){return i}});var t=a(7437),r=a(2265),l=a(345);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("zh-card",a),...r})});n.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});c.displayName="CardHeader";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});h.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});x.displayName="CardFooter"}},function(e){e.O(0,[250,749,326,335,627,971,472,744],function(){return e(e.s=503)}),_N_E=e.O()}]);