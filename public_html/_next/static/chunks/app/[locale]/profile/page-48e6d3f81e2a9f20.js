(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{8203:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6141:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9168:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]])},9617:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},5790:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3712:function(e,s,t){Promise.resolve().then(t.bind(t,3250))},3250:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ProfilePage}});var a=t(7437),r=t(2265),n=t(2749),l=t(4033),i=t(1679),c=t(8627),d=t(609),x=t(3089),o=t(150),m=t(7972),h=t(9168),u=t(9036),f=t(8203),j=t(6141),g=t(5750),N=t(9617),v=t(9409),p=t(8957),y=t(5790);function ProfilePage(e){let{params:{locale:s}}=e,{data:t,status:b}=(0,n.useSession)(),w=(0,l.useRouter)();(0,i.useTranslations)();let[z,k]=(0,r.useState)(null),[Z,C]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if("loading"!==b){if(!t){w.push("/login");return}fetchUserProfile()}},[t,b,w]);let fetchUserProfile=async()=>{var e;if(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)try{let e=await fetch("/api/users/".concat(t.user.id));if(e.ok){let s=await e.json();k(s)}}catch(e){console.error("Failed to fetch user profile:",e)}finally{C(!1)}},formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return"loading"===b||Z?(0,a.jsx)(c.MainLayout,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-zh-accent/20 border-t-zh-accent rounded-full animate-spin"})})}):t&&z?(0,a.jsx)(c.MainLayout,{children:(0,a.jsx)("div",{className:"min-h-screen py-8",children:(0,a.jsx)("div",{className:"zh-container",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsx)(d.Zb,{className:"zh-card",children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-full mx-auto mb-4 border-4 border-zh-accent bg-zh-primary flex items-center justify-center",children:z.image?(0,a.jsx)("img",{src:z.image,alt:z.username,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)(m.Z,{className:"h-16 w-16 text-zh-accent"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:z.username}),(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:z.name}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsxs)(o.C,{className:"".concat((e=>{switch(e.toLowerCase()){case"legendary":return"text-purple-400";case"general":return"text-red-400";case"colonel":return"text-blue-400";case"major":return"text-green-400";case"captain":return"text-yellow-400";case"lieutenant":return"text-orange-400";case"sergeant":default:return"text-gray-400";case"recruit":return"text-gray-500"}})(z.rank)," bg-zh-accent/20"),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),z.rank]}),(0,a.jsxs)(o.C,{variant:"secondary",children:["Level ",z.level]}),"admin"===z.role&&(0,a.jsxs)(o.C,{className:"bg-red-500/20 text-red-400",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"Admin"]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:z.points.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Ranking Points"})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-zh-accent",children:[z.xp.toLocaleString()," XP"]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Experience Points"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-300 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),"Joined ",formatDate(z.joinedAt)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),"Last seen ",formatDate(z.lastSeen)]}),z.clan&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),z.clan.name," [",z.clan.tag,"]"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x.z,{variant:"gaming",className:"w-full flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),"Edit Profile"]}),(0,a.jsxs)(x.z,{variant:"outline",className:"w-full flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),"Settings"]})]})]})}),z.badges.length>0&&(0,a.jsxs)(d.Zb,{className:"zh-card mt-6",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5"}),"Badges & Achievements"]})}),(0,a.jsx)(d.aY,{className:"grid grid-cols-2 gap-3",children:z.badges.map((e,s)=>(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-zh-primary/30",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:e.badge.icon}),(0,a.jsx)("div",{className:"text-xs font-medium text-white",children:e.badge.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.badge.description})]},s))})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)(d.Zb,{className:"zh-card mb-6",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),"Game Statistics"]})}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:z.wins}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Wins"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:z.losses}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Losses"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:z.wins+z.losses}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Games"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[((e,s)=>{let t=e+s;return t>0?(e/t*100).toFixed(1):"0.0"})(z.wins,z.losses),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Win Rate"})]})]})})]}),(0,a.jsxs)(d.Zb,{className:"zh-card",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),"Account Information"]})}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Username"}),(0,a.jsx)("div",{className:"text-white font-medium",children:z.username})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Display Name"}),(0,a.jsx)("div",{className:"text-white font-medium",children:z.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Email"}),(0,a.jsx)("div",{className:"text-white font-medium",children:z.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Account Type"}),(0,a.jsx)("div",{className:"text-white font-medium capitalize",children:z.role})]})]})})})]})]})]})})})}):(0,a.jsx)(c.MainLayout,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Profile Not Found"}),(0,a.jsx)(x.z,{onClick:()=>w.push("/"),children:"Go Home"})]})})})}},150:function(e,s,t){"use strict";t.d(s,{C:function(){return Badge}});var a=t(7437);t(2265);var r=t(6061),n=t(345);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-zh-accent text-white hover:bg-zh-accent/80",secondary:"border-transparent bg-zh-secondary text-white hover:bg-zh-secondary/80",destructive:"border-transparent bg-zh-red text-white hover:bg-zh-red/80",outline:"text-foreground",success:"border-transparent bg-zh-accent text-white hover:bg-zh-accent/80",warning:"border-transparent bg-zh-gold text-black hover:bg-zh-gold/80",info:"border-transparent bg-zh-blue text-white hover:bg-zh-blue/80"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...r})}},609:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},Zb:function(){return l},aY:function(){return x},ll:function(){return c}});var a=t(7437),r=t(2265),n=t(345);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("zh-card",t),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});x.displayName="CardContent";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});o.displayName="CardFooter"}},function(e){e.O(0,[250,749,326,335,627,971,472,744],function(){return e(e.s=3712)}),_N_E=e.O()}]);